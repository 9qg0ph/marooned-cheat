# 我独自生活游戏修改器

基于发现：别的作者修改器"必须保持开启状态才有效" = 使用实时Hook拦截方式

## 📁 文件说明

### 核心修改器文件
- `WoduziCheat_RealTime.m` - **推荐使用** 实时Hook版本，基于"必须保持开启状态"的发现
- `WoduziCheat_Simple.m` - 简化版本，基础Hook功能
- `WoduziCheat_Memory.m` - 内存搜索版本
- `WoduziCheat.m` - 完整版本（已弃用）

### 编译产物
- `WoduziCheat_RealTime.dylib` - 实时Hook修改器（推荐）
- `WoduziCheat_Simple.dylib` - 简化版修改器

## 🎯 实时Hook版本特点

### 核心发现
通过分析别的作者修改器发现：**必须保持开启状态才有效果**
这说明使用的是**实时拦截**而非存档修改方式

### 工作原理
1. **实时拦截**: Hook所有数值读取方法
2. **精确匹配**: 识别你的当前现金数值 2099999100
3. **动态替换**: 实时返回目标数值
4. **持续生效**: 保持dylib加载状态即可

### 拦截方法
- `NSUserDefaults integerForKey:` - 拦截整数读取
- `NSUserDefaults objectForKey:` - 拦截对象读取  
- `NSNumber intValue` - 拦截NSNumber数值
- `NSNumber longLongValue` - 拦截长整型数值

## 🎮 使用方法

### 1. 注入dylib
使用你熟悉的注入工具将 `WoduziCheat_RealTime.dylib` 注入到游戏进程

### 2. 启动游戏
正常启动"我独自生活"游戏，修改器会自动加载

### 3. 控制面板
- **三指长按2秒** 打开控制面板
- 可以开启/关闭Hook
- 查看拦截日志

### 4. 查看效果
- 游戏中进行任何操作（消费、升级等）
- 数值会被实时拦截和修改
- 保持dylib加载状态，关闭后失效

## 📊 目标数值

| 属性 | 当前数值 | 目标数值 |
|------|----------|----------|
| 现金 | 2099999100 | 21000000000 |
| 体力 | 未知 | 21000000000 |
| 健康 | 未知 | 1000000 |
| 心情 | 未知 | 1000000 |

## 🔧 技术细节

### Hook策略
1. **精确匹配**: 当前现金数值 2099999100 → 21000000000
2. **范围匹配**: 大数值(1M-10B) → 21000000000
3. **范围匹配**: 中数值(100-1M) → 1000000

### 日志系统
- 自动记录所有拦截操作
- 日志文件: `Documents/woduzishenghua_realtime.log`
- 通过控制面板查看最近日志

### 手势控制
- 三指长按2秒打开控制面板
- 实时开启/关闭Hook功能
- 查看拦截状态和日志

## ⚠️ 重要说明

1. **实时生效**: 修改是实时的，不需要重启游戏
2. **持续运行**: 必须保持dylib加载状态
3. **安全性**: 只在本地拦截，不修改存档文件
4. **兼容性**: 适用于iOS 14.0+

## 🚀 编译说明

GitHub Actions会自动编译生成dylib文件：
- 推送代码后自动触发编译
- 在Actions页面下载编译好的dylib
- 支持arm64架构iOS设备

## 📝 更新日志

### v3.0 - 实时Hook版本
- 基于"必须保持开启状态"的发现重写
- 实现实时拦截所有数值读取
- 添加手势控制面板
- 精确匹配当前现金数值
- 完整的日志系统

### v2.0 - 简化版本  
- 简化Hook逻辑
- 移除复杂的存档操作
- 专注于NSUserDefaults拦截

### v1.0 - 初始版本
- 基础Hook功能
- 存档修改方式（已弃用）