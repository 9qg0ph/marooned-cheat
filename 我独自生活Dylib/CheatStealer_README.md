# ğŸ•µï¸ ä¿®æ”¹å™¨çªƒå–å™¨ - Dylibç‰ˆæœ¬

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨è¿è¡Œçš„ä¿®æ”¹å™¨çªƒå–å™¨ï¼Œæ³¨å…¥åˆ°æ¸¸æˆåä¼šåœ¨åå°è‡ªåŠ¨ç›‘æ§å¹¶è®°å½•å…¶ä»–ä¿®æ”¹å™¨çš„æ‰€æœ‰æ“ä½œã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **è‡ªåŠ¨ç›‘æ§**ï¼šHookæ‰€æœ‰NSUserDefaultsæ“ä½œ
- **å®æ—¶è®°å½•**ï¼šè®°å½•æ‰€æœ‰è¯»å–å’Œä¿®æ”¹æ“ä½œåˆ°æ—¥å¿—æ–‡ä»¶
- **æ™ºèƒ½åˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ«é‡è¦æ•°å€¼ä¿®æ”¹ï¼ˆé‡‘é’±ã€ä½“åŠ›ç­‰ï¼‰
- **ES3æ•è·**ï¼šä¸“é—¨ç›‘æ§ES3å­˜æ¡£æ“ä½œ
- **ä»£ç ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”ŸæˆFridaå’ŒObjective-Cç‰ˆæœ¬çš„ä¿®æ”¹å™¨ä»£ç 
- **åå°è¿è¡Œ**ï¼šæ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œæ³¨å…¥åè‡ªåŠ¨å·¥ä½œ

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

æ³¨å…¥åä¼šåœ¨æ¸¸æˆçš„Documentsç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

```
Documents/
â”œâ”€â”€ cheat_stealer.log              # è¯¦ç»†æ“ä½œæ—¥å¿—
â”œâ”€â”€ captured_cheat_data.json       # æ•è·çš„æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
â”œâ”€â”€ generated_frida_cheat.js       # è‡ªåŠ¨ç”Ÿæˆçš„Fridaä¿®æ”¹å™¨
â””â”€â”€ generated_objc_cheat.m         # è‡ªåŠ¨ç”Ÿæˆçš„Objective-Cä¿®æ”¹å™¨
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ç¼–è¯‘Dylib

```bash
# ä½¿ç”¨Theosç¼–è¯‘
make package

# æˆ–è€…ä½¿ç”¨Xcodeç¼–è¯‘ä¸ºåŠ¨æ€åº“
```

### 2. æ³¨å…¥åˆ°æ¸¸æˆ

```bash
# ä½¿ç”¨æ³¨å…¥å·¥å…·å°†ç¼–è¯‘å¥½çš„dylibæ³¨å…¥åˆ°"æˆ‘ç‹¬è‡ªç”Ÿæ´»"æ¸¸æˆ
# ä¾‹å¦‚ä½¿ç”¨insert_dylibã€optoolç­‰å·¥å…·
```

### 3. è¿è¡Œæ¸¸æˆ

- å¯åŠ¨æ¸¸æˆï¼Œçªƒå–å™¨ä¼šè‡ªåŠ¨å¼€å§‹å·¥ä½œ
- åœ¨åå°é™é»˜ç›‘æ§ï¼Œä¸å½±å“æ¸¸æˆè¿è¡Œ

### 4. æ“ä½œå…¶ä»–ä¿®æ”¹å™¨

- æ‰“å¼€å…¶ä»–ä¿®æ”¹å™¨åº”ç”¨
- å¼€å¯/å…³é—­å„ç§åŠŸèƒ½ï¼ˆæ— é™é‡‘é’±ã€æ— é™ä½“åŠ›ç­‰ï¼‰
- çªƒå–å™¨ä¼šè‡ªåŠ¨è®°å½•æ‰€æœ‰æ“ä½œ

### 5. æŸ¥çœ‹ç»“æœ

- æŸ¥çœ‹ `cheat_stealer.log` äº†è§£è¯¦ç»†æ“ä½œè®°å½•
- æŸ¥çœ‹ `captured_cheat_data.json` äº†è§£æ•è·çš„æ•°æ®
- ä½¿ç”¨ç”Ÿæˆçš„ `generated_frida_cheat.js` æˆ– `generated_objc_cheat.m`

## ğŸ“Š ç›‘æ§å†…å®¹

### NSUserDefaultsæ“ä½œ
- `integerForKey:` - è¯»å–æ•´æ•°å€¼
- `objectForKey:` - è¯»å–å¯¹è±¡å€¼  
- `setInteger:forKey:` - è®¾ç½®æ•´æ•°å€¼
- `setObject:forKey:` - è®¾ç½®å¯¹è±¡å€¼

### é‡ç‚¹å…³æ³¨
- **å¤§æ•°å€¼ä¿®æ”¹**ï¼šå€¼ > 100,000 çš„ä¿®æ”¹
- **ç‰¹æ®Šæ•°å€¼**ï¼š999999999ã€21000000000 ç­‰
- **ES3å­˜æ¡£**ï¼šåŒ…å«"es3"çš„é”®å
- **æ—¶é—´æˆ³**ï¼šåŒ…å«"timestamp"çš„é”®å
- **æ¸¸æˆèµ„æº**ï¼šç°é‡‘ã€ä½“åŠ›ã€å¥åº·ã€å¿ƒæƒ…ç­‰

## ğŸ‰ è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç 

### Fridaç‰ˆæœ¬ç¤ºä¾‹
```javascript
// è‡ªåŠ¨ç”Ÿæˆçš„ä¿®æ”¹å™¨ä»£ç  - Fridaç‰ˆæœ¬
setTimeout(function() {
    var NSUserDefaults = ObjC.classes.NSUserDefaults;
    var defaults = NSUserDefaults.standardUserDefaults();
    console.log('ğŸš€ æ‰§è¡Œçªƒå–åˆ°çš„ä¿®æ”¹å™¨...');

    defaults.setInteger_forKey_(21000000000, 'cash');
    console.log('âœ… ä¿®æ”¹ cash = 21000000000');
    
    defaults.setInteger_forKey_(21000000000, 'energy');
    console.log('âœ… ä¿®æ”¹ energy = 21000000000');

    defaults.synchronize();
    console.log('ğŸ‰ çªƒå–ä¿®æ”¹å™¨æ‰§è¡Œå®Œæˆï¼');
}, 3000);
```

### Objective-Cç‰ˆæœ¬ç¤ºä¾‹
```objective-c
// è‡ªåŠ¨ç”Ÿæˆçš„ä¿®æ”¹å™¨ä»£ç  - Objective-Cç‰ˆæœ¬
static void executeStolenCheat(void) {
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    NSLog(@"ğŸš€ æ‰§è¡Œçªƒå–åˆ°çš„ä¿®æ”¹å™¨...");

    [defaults setInteger:21000000000 forKey:@"cash"];
    NSLog(@"âœ… ä¿®æ”¹ cash = 21000000000");
    
    [defaults setInteger:21000000000 forKey:@"energy"];
    NSLog(@"âœ… ä¿®æ”¹ energy = 21000000000");

    [defaults synchronize];
    NSLog(@"ğŸ‰ çªƒå–ä¿®æ”¹å™¨æ‰§è¡Œå®Œæˆï¼");
}
```

## ğŸ“‹ æ—¥å¿—ç¤ºä¾‹

```
[2026-01-20 15:30:15] ğŸ•µï¸ ä¿®æ”¹å™¨çªƒå–å™¨å¼€å§‹åŠ è½½...
[2026-01-20 15:30:17] âœ… å·²å®‰è£… integerForKey Hook
[2026-01-20 15:30:17] âœ… å·²å®‰è£… objectForKey Hook
[2026-01-20 15:30:17] âœ… å·²å®‰è£… setInteger:forKey Hook
[2026-01-20 15:30:17] âœ… å·²å®‰è£… setObject:forKey Hook
[2026-01-20 15:30:17] ğŸ‰ æ‰€æœ‰Hookå®‰è£…å®Œæˆï¼Œå¼€å§‹ç›‘æ§å…¶ä»–ä¿®æ”¹å™¨
[2026-01-20 15:30:17] âœ… ä¿®æ”¹å™¨çªƒå–å™¨å·²å®Œå…¨å¯åŠ¨ï¼Œæ­£åœ¨åå°ç›‘æ§...
[2026-01-20 15:30:17] ğŸ’¡ ç°åœ¨å¯ä»¥æ“ä½œå…¶ä»–ä¿®æ”¹å™¨ï¼Œæ‰€æœ‰æ“ä½œå°†è¢«è‡ªåŠ¨è®°å½•
[2026-01-20 15:32:45] ğŸ¯ [é‡è¦ä¿®æ”¹] setInteger: cash = 21000000000
[2026-01-20 15:32:45] ğŸ’¾ å·²ä¿å­˜ 1 ä¸ªæ“ä½œåˆ°æ•°æ®æ–‡ä»¶
[2026-01-20 15:32:50] ğŸ¯ [é‡è¦ä¿®æ”¹] setInteger: energy = 21000000000
[2026-01-20 15:32:50] ğŸ’¾ å·²ä¿å­˜ 2 ä¸ªæ“ä½œåˆ°æ•°æ®æ–‡ä»¶
[2026-01-20 15:33:15] ğŸ“Š [çŠ¶æ€] å·²æ•è· 15 ä¸ªæ“ä½œï¼Œ4 ä¸ªé‡è¦æ•°å€¼ï¼Œ2 ä¸ªES3æ“ä½œ
[2026-01-20 15:34:17] ğŸ‰ å·²ç”Ÿæˆä¿®æ”¹å™¨ä»£ç æ–‡ä»¶:
[2026-01-20 15:34:17]    Fridaç‰ˆæœ¬: /Documents/generated_frida_cheat.js
[2026-01-20 15:34:17]    Objective-Cç‰ˆæœ¬: /Documents/generated_objc_cheat.m
```

## âš ï¸ æ³¨æ„äº‹é¡¹

- çªƒå–å™¨åœ¨åå°é™é»˜è¿è¡Œï¼Œä¸ä¼šå½±å“æ¸¸æˆæ€§èƒ½
- æ‰€æœ‰æ“ä½œéƒ½ä¼šè¢«è®°å½•ï¼ŒåŒ…æ‹¬æ¸¸æˆæœ¬èº«çš„æ“ä½œ
- é‡è¦æ“ä½œä¼šç«‹å³ä¿å­˜ï¼Œé¿å…æ•°æ®ä¸¢å¤±
- æ¯30ç§’è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡æ•°æ®
- æ¯60ç§’æ£€æŸ¥æ˜¯å¦å¯ä»¥ç”Ÿæˆä¿®æ”¹å™¨ä»£ç 
- ç”Ÿæˆçš„ä»£ç å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹

## ğŸ”§ ç¼–è¯‘é…ç½®

### Makefileç¤ºä¾‹
```makefile
ARCHS = arm64
TARGET = iphone:clang:latest:7.0

include $(THEOS)/makefiles/common.mk

LIBRARY_NAME = CheatStealer
CheatStealer_FILES = CheatStealer.m
CheatStealer_CFLAGS = -fobjc-arc

include $(THEOS)/makefiles/library.mk
```

è¿™ä¸ªdylibçªƒå–å™¨æ¯”Fridaè„šæœ¬æ›´æ–¹ä¾¿ï¼Œå› ä¸ºï¼š
- ä¸éœ€è¦ç”µè„‘è¿æ¥
- è‡ªåŠ¨åå°è¿è¡Œ
- è‡ªåŠ¨ä¿å­˜å’Œç”Ÿæˆä»£ç 
- æ›´éšè”½ï¼Œä¸å®¹æ˜“è¢«å‘ç°