# 🛡️ 安全版本修改器 - 解决闪退问题

## 🚨 闪退问题解决方案

如果注入后游戏秒闪退，使用这个安全版本！

### 🔧 安全版本特点：

1. **最小化Hook** - 只Hook必要的方法，减少冲突
2. **延迟初始化** - 等待应用完全启动后再执行
3. **异常处理** - 全面的try-catch保护
4. **应用状态监听** - 监听应用生命周期
5. **安全日志** - 详细记录运行状态

### 📁 文件说明：

- **`WoduziCheat_Safe.m`** - 安全版本源码
- **`Makefile_Safe`** - 安全版本编译配置

### 🚀 编译方法：

```bash
# 编译安全版本
make -f Makefile_Safe package

# 生成文件：WoduziCheat_Safe.dylib
```

### 💡 安全机制：

1. **延迟Hook** - 3秒后才安装Hook
2. **延迟修改** - 10秒后才修改数值
3. **最小化修改** - 只修改确定的字段
4. **异常保护** - 任何异常都不会导致崩溃
5. **状态监听** - 等待应用完全激活

### 🎯 修改内容：

- 💰 现金 = 210亿
- ⚡ 体力 = 210亿  
- ❤️ 健康 = 100万
- 😊 心情 = 100万

### 📋 使用步骤：

1. **编译安全版本**
2. **注入WoduziCheat_Safe.dylib**
3. **启动游戏**（不会闪退）
4. **等待10-15秒**（自动修改数值）
5. **会弹出提示**确认修改完成
6. **进行游戏操作**刷新数值

### 🔍 调试信息：

日志文件：`Documents/safe_cheat.log`

如果还有问题，查看日志文件了解具体情况。

## ⚠️ 注意事项：

- 安全版本功能较少，但稳定性更高
- 如果安全版本正常，说明原版本Hook过多导致冲突
- 建议先用安全版本测试，确认游戏兼容性