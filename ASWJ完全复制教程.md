# ASWJGAMEPLUS å®Œå…¨å¤åˆ¶æ•™ç¨‹

## ğŸ“‹ æ¦‚è¿°

æœ¬æ•™ç¨‹è¯¦ç»†ä»‹ç»å¦‚ä½•å®Œå…¨å¤åˆ¶ ASWJGAMEPLUS.dylib çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæä¾›å¤šç§å®ç°æ–¹æ¡ˆï¼Œä»ç®€å•çš„ç›´æ¥è°ƒç”¨åˆ°å¤æ‚çš„ç‹¬ç«‹å®ç°ã€‚

---

## ğŸ¯ ç›®æ ‡åŠŸèƒ½

### ä¸»è¦åŠŸèƒ½
- âœ… æ— é™å¯¿å‘½
- âœ… å†»ç»“çµçŸ³  
- âœ… æ— æ•Œå…ç–«
- âœ… æ— é™çªç ´
- âœ… å¢åŠ é€ƒè·‘æ¦‚ç‡

### è¾…åŠ©åŠŸèƒ½
- ğŸ® æ‚¬æµ®æŒ‰é’®ï¼ˆå¯æ‹–æ‹½ï¼‰
- ğŸ“± åŠŸèƒ½èœå•ï¼ˆå±å¹•å±…ä¸­ï¼‰
- ğŸ’¾ çŠ¶æ€ä¿å­˜
- ğŸ”” æ“ä½œæç¤º

---

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒå®ç°æ–‡ä»¶
- `ASWJClone_ultimate.js` - ç»ˆæå¤åˆ¶å™¨ï¼ˆæ¨èï¼‰
- `ASWJClone_fixed.js` - ç›´æ¥è°ƒç”¨ä¿®å¤ç‰ˆ
- `ASWJClone.js` - ç›´æ¥è°ƒç”¨åŸå§‹ç‰ˆ
- `KabaoMemoryHack.js` - å†…å­˜çº§åˆ«ä¿®æ”¹
- `å¡åŒ…ä¿®ä»™Dylib/KabaoCheat.m` - ç‹¬ç«‹ Dylib æ’ä»¶

### æµ‹è¯•å’Œæ¼”ç¤ºæ–‡ä»¶
- `test_aswj_replication.js` - åŠŸèƒ½æµ‹è¯•è„šæœ¬
- `demo_aswj.js` - åŠŸèƒ½æ¼”ç¤ºè„šæœ¬
- `hook_aswj_final.js` - æœ€ç»ˆåˆ†æè„šæœ¬

### æ–‡æ¡£æ–‡ä»¶
- `ASWJGAMEPLUSåˆ†ææŠ¥å‘Š.md` - å®Œæ•´æŠ€æœ¯åˆ†æ
- `ASWJå®Œå…¨å¤åˆ¶æ•™ç¨‹.md` - æœ¬æ•™ç¨‹æ–‡æ¡£
- `å¡åŒ…ä¿®ä»™Dylib/README.md` - Dylib ä½¿ç”¨è¯´æ˜

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒæ£€æŸ¥
```bash
# è¿è¡Œæ¼”ç¤ºè„šæœ¬ï¼Œäº†è§£å½“å‰ç¯å¢ƒ
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l demo_aswj.js
```

### ç¬¬äºŒæ­¥ï¼šåŠŸèƒ½æµ‹è¯•
```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œè·å¾—æ–¹æ¡ˆå»ºè®®
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l test_aswj_replication.js
```

### ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©æ–¹æ¡ˆ
æ ¹æ®æµ‹è¯•ç»“æœé€‰æ‹©æœ€é€‚åˆçš„å®ç°æ–¹æ¡ˆï¼š

**å¦‚æœæµ‹è¯•æ˜¾ç¤º "å»ºè®®ä½¿ç”¨ç›´æ¥è°ƒç”¨æ–¹æ¡ˆ"**:
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l ASWJClone_ultimate.js
```

**å¦‚æœæµ‹è¯•æ˜¾ç¤º "å»ºè®®ä½¿ç”¨ç‹¬ç«‹å®ç°æ–¹æ¡ˆ"**:
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l KabaoMemoryHack.js
```

---

## ğŸš€ å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šç»ˆæå¤åˆ¶å™¨ï¼ˆæ¨èï¼‰

**æ–‡ä»¶**: `ASWJClone_ultimate.js`

**ç‰¹ç‚¹**:
- å¤šæ–¹æ¡ˆé›†æˆï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä½³å®ç°
- æ™ºèƒ½é™çº§ï¼Œç¡®ä¿åŠŸèƒ½å¯ç”¨
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒçŠ¶æ€ç®¡ç†

**ä½¿ç”¨æ­¥éª¤**:

1. **å¯åŠ¨æ¸¸æˆå¹¶æ³¨å…¥è„šæœ¬**
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l ASWJClone_ultimate.js
```

2. **ç­‰å¾…åˆå§‹åŒ–å®Œæˆ**
```
[*] ASWJGAMEPLUS ç»ˆæå¤åˆ¶å™¨å¯åŠ¨
[+] æ‰¾åˆ° ASWJGAMEPLUS.dylib @ 0x...
[+] æ‰¾åˆ°æ¸¸æˆæ¨¡å—: game.taptap.lantern.kbxx @ 0x...
=== ASWJ ç»ˆæå¤åˆ¶å™¨å·²å°±ç»ª ===
```

3. **ä½¿ç”¨åŠŸèƒ½**
```javascript
// æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
ASWJ.getStatus();

// å¼€å¯å•ä¸ªåŠŸèƒ½
ASWJ.enable('æ— é™å¯¿å‘½');
ASWJ.enable('å†»ç»“çµçŸ³');

// å…³é—­åŠŸèƒ½
ASWJ.disable('æ— é™å¯¿å‘½');

// æ‰¹é‡æ“ä½œ
ASWJ.enableAll();   // å¼€å¯æ‰€æœ‰åŠŸèƒ½
ASWJ.disableAll();  // å…³é—­æ‰€æœ‰åŠŸèƒ½

// æŸ¥çœ‹åŠŸèƒ½åˆ—è¡¨
ASWJ.listFunctions();
```

**å·¥ä½œåŸç†**:
1. æ£€æµ‹ ASWJGAMEPLUS.dylib æ˜¯å¦å­˜åœ¨
2. å¦‚æœå­˜åœ¨ï¼Œç›´æ¥è°ƒç”¨åŸæ’ä»¶å‡½æ•°
3. å¦‚æœä¸å­˜åœ¨ï¼Œä½¿ç”¨å†…å­˜ä¿®æ”¹æ–¹æ¡ˆ
4. æœ€åå°è¯• Hook æ¸¸æˆå‡½æ•°

---

### æ–¹æ¡ˆäºŒï¼šç›´æ¥è°ƒç”¨åŸæ’ä»¶

**æ–‡ä»¶**: `ASWJClone_fixed.js`

**ç‰¹ç‚¹**:
- ç›´æ¥è°ƒç”¨ ASWJGAMEPLUS çš„å†…éƒ¨å‡½æ•°
- 100% å…¼å®¹åŸæ’ä»¶åŠŸèƒ½
- éœ€è¦åŸæ’ä»¶å·²å®‰è£…

**ä½¿ç”¨æ­¥éª¤**:

1. **ç¡®ä¿ ASWJGAMEPLUS.dylib å·²å®‰è£…**
2. **å¯åŠ¨è„šæœ¬**
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l ASWJClone_fixed.js
```

3. **ä½¿ç”¨åŠŸèƒ½**
```javascript
// å¼€å¯åŠŸèƒ½
ASWJ.enable('æ— é™å¯¿å‘½');

// å…³é—­åŠŸèƒ½
ASWJ.disable('æ— é™å¯¿å‘½');

// æ¨¡æ‹Ÿå¼€å…³ç‚¹å‡»
ASWJ.simulateSwitch('æ— é™å¯¿å‘½', true);
```

**æŠ€æœ¯ç»†èŠ‚**:
- è°ƒç”¨åœ°å€: `0x669a2c` (å¼€å¯), `0x94c684` (å…³é—­), `0xfdc38` (å¤„ç†)
- å‚æ•°æ ¼å¼: `handler(åŠŸèƒ½ID, å¼€å¯çŠ¶æ€)`
- åŠŸèƒ½IDæ˜ å°„: æ— é™å¯¿å‘½=0, å†»ç»“çµçŸ³=1, æ— æ•Œå…ç–«=2, æ— é™çªç ´=3, å¢åŠ é€ƒè·‘æ¦‚ç‡=4

---

### æ–¹æ¡ˆä¸‰ï¼šå†…å­˜çº§åˆ«ä¿®æ”¹

**æ–‡ä»¶**: `KabaoMemoryHack.js`

**ç‰¹ç‚¹**:
- ç›´æ¥æœç´¢å’Œä¿®æ”¹æ¸¸æˆå†…å­˜
- ä¸ä¾èµ–åŸæ’ä»¶
- éœ€è¦æ‰¾åˆ°æ­£ç¡®çš„å†…å­˜åœ°å€

**ä½¿ç”¨æ­¥éª¤**:

1. **å¯åŠ¨è„šæœ¬**
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l KabaoMemoryHack.js
```

2. **ä½¿ç”¨åŠŸèƒ½**
```javascript
// å¼€å¯åŠŸèƒ½
kabaoCheat.enableInfiniteLife();      // æ— é™å¯¿å‘½
kabaoCheat.enableFreezeStone();       // å†»ç»“çµçŸ³
kabaoCheat.enableInvincible();        // æ— æ•Œå…ç–«

// å…³é—­åŠŸèƒ½
kabaoCheat.disableInfiniteLife();
```

**å®ç°åŸç†**:
- å†…å­˜æœç´¢: æ‰¾åˆ°æ¸¸æˆæ•°å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®
- æ•°å€¼ä¿®æ”¹: ç›´æ¥ä¿®æ”¹å†…å­˜ä¸­çš„æ•°å€¼
- æŒç»­ç›‘æ§: å®šæ—¶å™¨æŒç»­ä¿®æ”¹ï¼Œå®ç°"é”å®š"æ•ˆæœ

---

### æ–¹æ¡ˆå››ï¼šç‹¬ç«‹ Dylib æ’ä»¶

**æ–‡ä»¶**: `å¡åŒ…ä¿®ä»™Dylib/KabaoCheat.m`

**ç‰¹ç‚¹**:
- å®Œå…¨ç‹¬ç«‹çš„æ’ä»¶å®ç°
- å‹å¥½çš„å›¾å½¢ç•Œé¢
- ä¸ä¾èµ–ä»»ä½•å…¶ä»–æ’ä»¶

**ä½¿ç”¨æ­¥éª¤**:

1. **ç¼–è¯‘ Dylib**
   - æ¨é€ä»£ç åˆ° GitHub
   - è¿è¡Œ Actions å·¥ä½œæµ
   - ä¸‹è½½ç¼–è¯‘å¥½çš„ `KabaoCheat.dylib`

2. **æ³¨å…¥åˆ°æ¸¸æˆ**
   - ä½¿ç”¨ IPAPatcher æ³¨å…¥ dylib
   - ç”¨ TrollStore å®‰è£…ä¿®æ”¹åçš„ IPA

3. **ä½¿ç”¨åŠŸèƒ½**
   - å¯åŠ¨æ¸¸æˆï¼Œè‡ªåŠ¨æ˜¾ç¤ºæ‚¬æµ®æŒ‰é’®
   - ç‚¹å‡»æŒ‰é’®æ‰“å¼€åŠŸèƒ½èœå•
   - ä½¿ç”¨å¼€å…³æ§åˆ¶å„é¡¹åŠŸèƒ½

---

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### åŠŸèƒ½æµ‹è¯•è„šæœ¬

**æ–‡ä»¶**: `test_aswj_replication.js`

**ç”¨é€”**: å…¨é¢æµ‹è¯•æ‰€æœ‰å¤åˆ¶æ–¹æ¡ˆçš„å¯ç”¨æ€§

**ä½¿ç”¨æ–¹æ³•**:
```bash
python -m frida_tools.repl -U -f game.taptap.lantern.kbxx -l test_aswj_replication.js
```

**æµ‹è¯•é¡¹ç›®**:
1. æ¨¡å—æ£€æµ‹ (ASWJGAMEPLUS.dylib, æ¸¸æˆæ¨¡å—)
2. ObjC ç±»æ£€æµ‹ (shenling, UISwitch)
3. å‡½æ•°åœ°å€éªŒè¯ (å…³é”®åç§»é‡)
4. å†…å­˜æœç´¢æµ‹è¯•
5. Hook è®¾ç½®æµ‹è¯•
6. å®é™…åŠŸèƒ½è°ƒç”¨æµ‹è¯•

**ç»“æœè§£è¯»**:
```
=== æµ‹è¯•ç»“æœæ±‡æ€» ===
é€šè¿‡: 8/10 (80%)

è¯¦ç»†ç»“æœ:
  aswj_module: âœ“
  game_module: âœ“
  objc_available: âœ“
  class_shenling: âœ“
  addr_handler: âœ“
  memory_search: âœ“
  hook_setup: âœ“
  function_call: âœ“

=== å»ºè®® ===
âœ“ å»ºè®®ä½¿ç”¨ç›´æ¥è°ƒç”¨æ–¹æ¡ˆ (ASWJClone_fixed.js)
âœ“ å¯ä»¥ä½¿ç”¨å†…å­˜ä¿®æ”¹æ–¹æ¡ˆ (KabaoMemoryHack.js)
âœ“ å¯ä»¥ä½¿ç”¨ Hook æ–¹æ¡ˆ
```

---

## ğŸ”§ é«˜çº§æŠ€å·§

### 1. è°ƒè¯•æŠ€å·§

**æŸ¥çœ‹æ¨¡å—ä¿¡æ¯**:
```javascript
var modules = Process.enumerateModules();
modules.forEach(function(module) {
    if (module.name.indexOf("ASWJ") !== -1) {
        console.log("æ¨¡å—: " + module.name + " @ " + module.base);
    }
});
```

**æŸ¥çœ‹ ObjC ç±»**:
```javascript
if (ObjC.available && ObjC.classes.shenling) {
    var shenling = ObjC.classes.shenling;
    console.log("shenling æ–¹æ³•:");
    shenling.$ownMethods.forEach(function(method) {
        console.log("  " + method);
    });
}
```

**å†…å­˜æœç´¢ä¼˜åŒ–**:
```javascript
// ç¼©å°æœç´¢èŒƒå›´
var ranges = Process.enumerateRanges('rw-');
ranges = ranges.filter(function(range) {
    return range.size < 1024 * 1024; // åªæœç´¢å°äº1MBçš„åŒºåŸŸ
});
```

### 2. é”™è¯¯å¤„ç†

**å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ**:

1. **"æ¨¡å—æœªæ‰¾åˆ°"**
   - ç¡®ä¿æ¸¸æˆå·²å¯åŠ¨
   - æ£€æŸ¥ Bundle ID æ˜¯å¦æ­£ç¡®
   - å°è¯•å»¶è¿Ÿæ‰§è¡Œè„šæœ¬

2. **"å‡½æ•°è°ƒç”¨å¤±è´¥"**
   - æ£€æŸ¥å‡½æ•°åœ°å€æ˜¯å¦æ­£ç¡®
   - éªŒè¯å‚æ•°ç±»å‹å’Œæ•°é‡
   - å°è¯•ä¸åŒçš„è°ƒç”¨æ–¹å¼

3. **"å†…å­˜æœç´¢æ— ç»“æœ"**
   - ç¡®ä¿æœç´¢çš„æ•°å€¼æ˜¯å½“å‰å€¼
   - æ‰©å¤§æœç´¢èŒƒå›´
   - å°è¯•ä¸åŒçš„æ•°æ®ç±»å‹

### 3. æ€§èƒ½ä¼˜åŒ–

**å‡å°‘å†…å­˜æœç´¢å¼€é”€**:
```javascript
// é™åˆ¶æœç´¢èŒƒå›´
var gameBase = this.gameModule.base;
var gameEnd = gameBase.add(this.gameModule.size);

ranges = ranges.filter(function(range) {
    return range.base.compare(gameBase) >= 0 && 
           range.base.compare(gameEnd) < 0;
});
```

**æ‰¹é‡æ“ä½œä¼˜åŒ–**:
```javascript
// æ‰¹é‡ä¿®æ”¹å†…å­˜
addresses.forEach(function(addr) {
    try {
        addr.writeInt(newValue);
    } catch(e) {
        // å¿½ç•¥å¤±è´¥çš„åœ°å€
    }
});
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®‰å…¨æé†’
1. **ä»…ä¾›å­¦ä¹ ç ”ç©¶**ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”
2. ä½¿ç”¨å‰è¯·å¤‡ä»½æ¸¸æˆå­˜æ¡£
3. å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­å…ˆéªŒè¯åŠŸèƒ½
4. æ¸¸æˆæ›´æ–°å¯èƒ½å¯¼è‡´åŠŸèƒ½å¤±æ•ˆ

### å…¼å®¹æ€§
1. **iOS ç‰ˆæœ¬**: æ”¯æŒ iOS 12.0+
2. **è®¾å¤‡è¦æ±‚**: éœ€è¦è¶Šç‹±è®¾å¤‡
3. **æ¸¸æˆç‰ˆæœ¬**: åŸºäºç‰¹å®šç‰ˆæœ¬åˆ†æï¼Œæ›´æ–°åå¯èƒ½éœ€è¦è°ƒæ•´

### æ³•å¾‹å£°æ˜
æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚ä½œè€…ä¸æ‰¿æ‹…ä»»ä½•å› ä½¿ç”¨æœ¬é¡¹ç›®è€Œäº§ç”Ÿçš„æ³•å¾‹è´£ä»»ã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ASWJGAMEPLUSåˆ†ææŠ¥å‘Š.md](ASWJGAMEPLUSåˆ†ææŠ¥å‘Š.md) - å®Œæ•´çš„æŠ€æœ¯åˆ†æ
- [å¡åŒ…ä¿®ä»™Dylib/README.md](å¡åŒ…ä¿®ä»™Dylib/README.md) - Dylib å®ç°è¯¦æƒ…
- [GameForFunè„šæœ¬æŠ“å–æ•™ç¨‹.md](GameForFunè„šæœ¬æŠ“å–æ•™ç¨‹.md) - åŸºç¡€æ•™ç¨‹å‚è€ƒ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### å¼€å‘ç¯å¢ƒ
- Frida 16.0+
- Python 3.8+
- Xcode 14.0+ (ç”¨äº Dylib ç¼–è¯‘)

### æµ‹è¯•æµç¨‹
1. è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½
2. åœ¨ä¸åŒ iOS ç‰ˆæœ¬ä¸Šæµ‹è¯•
3. éªŒè¯æ‰€æœ‰åŠŸèƒ½çš„æ­£ç¡®æ€§
4. æ›´æ–°æ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2026å¹´1æœˆ16æ—¥
**ç‰ˆæœ¬**: v2.0
**ä½œè€…**: Kiro AI Assistant